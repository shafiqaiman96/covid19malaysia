<!DOCTYPE html>
<html id="centerbox">

<head>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="HandheldFriendly" content="true">
<script src="https://code.angularjs.org/1.4.12/angular.js"></script>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="http://canvasjs.com/assets/script/canvasjs.min.js"></script>
<br>  
<div class="container" id="centerbox">
	<div class="middle">
  <h1 style="text-align: center"><img src="https://cdn0.iconfinder.com/data/icons/air-pollution-4/64/mask-dust-pm-particulate-512.png" style="width:50px"/>Update Kes Covid19 Malaysia<img src="https://cdn0.iconfinder.com/data/icons/air-pollution-4/64/mask-dust-pm-particulate-512.png" style="width:50px"/></h1><br>
<div id="chartContainer" style="height: 360px; width: 100%;"></div>
  <ul id="kawasan" style="padding-left: 30px"></ul>
    <h4 style="text-align: center"> Sebarang masalah sila hubungi:<a href="https://telegram.me/abeapiq" target="_blank"> abeapiq</a> via Telegram</h4>
   
	</div>
</div>
</body>
</html>

<script>
$(document).ready(function() {
  var dataPoints = [];
  $.getJSON("https://pomber.github.io/covid19/timeseries.json",             
 function(result) {
    for (var i = 0; i <= result.Malaysia.length - 1; i++) {
      dataPoints.push({
        label: result.Malaysia[i].date,
        y: parseInt(result.Malaysia[i].confirmed)
      });
    }

    var chart = new CanvasJS.Chart("chartContainer", {
      data: [{
        type: "column",
        dataPoints: dataPoints
      }]
    });

    chart.render();
  });
});

function createNode(element) {
      return document.createElement(element);
  }

  function append(parent, el) {
    return parent.appendChild(el);
  }

$(document).ready(function () {	
const ul = document.getElementById('kawasan')
fetch('https://pomber.github.io/covid19/timeseries.json')
 .then((resp) => resp.json())
  .then(function(data) {
    let authors = data.Malaysia;
  const susun = authors.sort((a, b) => (Date.parse('1970-01-01T' + a.time) > Date.parse('1970-01-01T' + b.time)) ? 1 : -1);
    return susun.map(function(author) {
      let li = createNode('li'),
       span = createNode('span')
       span.innerHTML = `<b>Tarikh: ${author.date}</b><br><a style="color: orange">Disahkan: ${author.confirmed} orang<br></a><a style="color: red">Kematian: ${author.deaths} orang</a><br><a style="color: green"> Pulih: ${author.recovered} orang</a><br><br>`
      append(li, span)
      append(ul, li)
	console.log(data)
	updateDOM(data)
      })
  })
  .catch(err => {
    console.log(error);
  })
 
function updateDOM(data) {
		var city = data.Malaysia
	}
});
</script>

<style>

#centerbox{
background-color: #E3D2CF;
}
ul > li {
display: inline-block;
padding: 20px;
padding-right: 45px;
padding-bottom: 55px;
}
li{
  background: #fff;
  border-radius: 5px;
  display: inline-block;
  height: 80px;
  margin: 1rem;
  position: relative;
  width: 150px;
  box-shadow: 2px 5px #888888;
  line-height: 25px;
}

li:nth-child(n+1000000) {
  order: 1;
}
</style>
